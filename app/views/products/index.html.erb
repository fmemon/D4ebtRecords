<%= form_tag(search_products_path, :method => :get) do %>
  <p>
  <%= label_tag "Search for an item" %>
  <%= text_field_tag :term %>
  <%= submit_tag "Search" %>
  </p>
<% end %>

<p id="notice"><%= flash[:notice] %></p>

<h1>Product Listing <%= display_search_found(@products,params[:term], @found) %></h1>

<table>
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Cost</th>
    <th>Stock</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>
  <% @products.each do |product| %>
  <tr>
    <td><%= product.name %></td>
    <td><%= product.description %></td>
    <td><%= number_to_currency(product.cost) %></td>
    <td><%= product.stock %></td>
    <td><%= link_to 'Show', product %></td>
    <td><%= link_to 'Edit', edit_product_path(product) %></td>
  </tr>  
  <% end %>
</table>

<p><%= link_to 'Create New Product', new_product_path %></p>
